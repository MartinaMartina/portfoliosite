(function(a,k,l){var m=a(l),p=a(k),q=a(l.body),e=k.Helium=k.Helium||{};e.ajax&&e.ajax.enabled&&k.History&&(a.extend(e,{teardown:function(b){a.fn.royalSlider&&a(".royalSlider",b).each(function(){var b=a(this).data("royalSlider");b&&b.destroy()});a.fn.justifiedGrids&&a(".justified-grids",b).justifiedGrids("destroy");a.fn.isotope&&a(".gallery",b).isotope("destroy");a(".grid-list",b).each(function(){var b=a.data(this,"helium.gridlist._inst");b instanceof e.GridList&&b.destroy()});a.magnificPopup&&(a.magnificPopup.instance.st&&
(a.magnificPopup.instance.st.removalDelay=null),a.magnificPopup.instance.close(),a.magnificPopup.instance.items=null,a.magnificPopup.instance.ev=null,a.magnificPopup.instance.st=null,a.magnificPopup.instance.contentContainer=null);a.fn.ajaxFormUnbind&&a("div.wpcf7 > form",b).ajaxFormUnbind().unbind(".form-plugin");a.fn.mediaelementplayer&&a(".wp-audio-shortcode, .wp-video-shortcode",b).mediaelementplayer(!1);a.Youxi&&a.Youxi.Shortcode&&a.Youxi.Shortcode.teardown(b)},Ajax:{init:function(){var b=History.getRootUrl(),
c=!1,g=null,f=l.createElement("span"),d=a(".content-area-wrap"),n=function(){c&&!f.parentNode&&d.find(".content-header .content-title").html(f).transition({opacity:1,duration:350,ease:"easeOutQuad",complete:h})},h=function(b){if(c){g||(g=new SplitText(f,{type:"words,chars"}));var d=g.chars,e=d.length-1,d=b?d:Array.prototype.slice.call(d).reverse();a.each(d,function(c){a(this).transition({opacity:b?1:0,x:b?0:10,delay:100*c,duration:400,complete:c==e?function(){h(!b)}:a.noop})})}},r=function(){d.find(".content-area .content-wrap").add(d.find(".content-area .content-header-affix").children()).transition({opacity:0,
duration:350,ease:"easeOutQuad",complete:n})},m=function(b){f.parentNode&&f.parentNode.removeChild(f);g instanceof SplitText&&a(g.chars).css({opacity:"",transition:"",transform:""});e.teardown(d);e.setup(d.html(b));d[0].offsetHeight;d.find(".content-area").removeClass("beforeload");c=!1};f.innerHTML=e.ajax.loadingText||"";e.AjaxNavigator.init({linkSelector:"a.ajaxify, .header .brand a, .main-nav .menu a, .portfolio a.portfolio-info-link, .pages-nav a, .post-tags a, .content-nav a, .post-title a, .post-meta a, .post-media a, .post-body a.more-link, .related-entry-media a:not(.mfp-image), .related-entry-title a, .related-entry-meta a, .edd-download-title a, a.edd-download-view-details, .grid-list a.grid-list-image-link.grid-list-page, .featured-portfolio-slider .entry-link, .search-entry-post-type a, .search-entry-title a",
excludeUrls:e.ajax.excludeUrls,bodyClassReplacer:function(a){q.hasClass("nav-open")&&(a=[a,"nav-open"].join(" "));q[0].className=a},stateChange:function(b,d){c=!0;if(0!=p.scrollTop()&&e.ajax.scrollTop)return a("html,body").finish().animate({scrollTop:0},500).promise().done(function(){r();d()}),!1;r()},done:function(c,d){var g,f=a(c),e=f.find(".content-area"),n=f.find(".main-nav .menu .menu-item"),f=f.find("#wpadminbar"),h=a("#wpadminbar");h.length&&f.length&&h.replaceWith(f);n.each(function(){this.id&&
(g=l.getElementById(this.id))&&(a(g).hasClass("sub-menu-open")&&a(this).addClass("sub-menu-open"),g.className=this.className)});e.addClass("beforeload");m(e[0].outerHTML);"undefined"!==typeof k._gaq&&k._gaq.push(["_trackPageview",d.replace(b,"")])}})}},AjaxNavigator:{defaults:{stateChange:a.noop,done:a.noop,fail:a.noop,always:a.noop,titleReplacer:null,bodyClassReplacer:null,stateChangeContext:null,doneContext:null,failContext:null,alwaysContext:null,titleReplacerContext:null,bodyClassReplacerContext:null,
ajaxParams:{},linkSelector:"a:not(.no-ajaxify)",excludeUrls:[]},_hash:function(){return"tag-"+Math.random().toString(36).substr(2,9)},init:function(b){k.History&&k.History.enabled&&(this.options=a.extend(!0,{},this.defaults,b),m.on("click.ajaxnavigator",this.options.linkSelector,a.proxy(this.onClick,this)),p.on("statechange.ajaxnavigator",a.proxy(this.onStateChange,this)))},onClick:function(b){var c=b.currentTarget,g=History.getRootUrl();a.map(this.options.excludeUrls||[],function(a){if(c.href.substring(0,
a.length)===a)return a}).length||c.href.substring(0,g.length)!==g&&-1<c.href.indexOf(":")||1<b.which||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||location.protocol!==c.protocol||location.hostname!==c.hostname||c.hash&&c.href.replace(c.hash,"")===location.href.replace(location.hash,"")||"_blank"===c.target||c.href===location.href+"#"||b.isDefaultPrevented()||(History.pushState(null,null,c.href),b.preventDefault())},onStateChange:function(b){var c=History.getState();b=a.proxy(function(){this._doRequest.apply(this,
[c.url,this.options.ajaxParams])},this);a.isFunction(this.options.stateChange)&&!1===this.options.stateChange.apply(this.options.stateChangeContext||this,[c.url,b])||b()},_documentHtml:function(b,c){var g=String(b).replace(/<(html|head|title|body)([\s\>])/gi,"<div data-"+c+'="$1"$2').replace(/<\/(html|head|title|body)\>/gi,"</div>");return a.trim(g)},_doRequest:function(b,c){a.ajax(b,a.extend(c,{context:this,dataType:"html",type:"GET"})).done(function(c){var f=a(l.createElement("div")).append(a.parseHTML(c,
!0)),d=f.find("title"),e=f.find("body");f.find("script[src]");var h=this._hash();c=a(this._documentHtml(c,h));d.length||(d=c.find("[data-"+h+'="title"]'));e.length||(e=c.find("[data-"+h+'="body"]'));d.length&&(a.isFunction(this.options.titleReplacer)?this.options.titleReplacer.apply(this.options.titleReplacerContext,[d.text()]):l.title=d.text());e.length&&(a.isFunction(this.options.bodyClassReplacer)?this.options.bodyClassReplacer.apply(this.options.bodyClassReplacerContext,[e[0].className]):l.body.className=
e[0].className);a.isFunction(this.options.done)&&this.options.done.apply(this.options.doneContext||this,[a("<div></div>").append(f).html(),b])}).fail(a.proxy(this.options.fail,this.options.failContext)).always(a.proxy(this.options.always,this.options.alwaysContext))}}}),a(function(){e.Ajax.init()}))})(jQuery,window,document);